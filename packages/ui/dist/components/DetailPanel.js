"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DetailPanel = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const StockList_1 = require("./StockList");
const LoadingSkeleton_1 = require("./LoadingSkeleton");
const ErrorState_1 = require("./ErrorState");
const EmptyState_1 = require("./EmptyState");
const DetailPanel = ({ selectedTheme, relatedStocks = [], loading = false, error, onStockClick, onRetry, className = '', conceptStrength = null, sentiment = null, anomalyEvents = [], showAdvancedAnalysis = false }) => {
    if (loading) {
        return ((0, jsx_runtime_1.jsx)("div", { className: `flex-1 bg-white ${className}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "p-6", children: [(0, jsx_runtime_1.jsx)(LoadingSkeleton_1.LoadingSkeleton, { type: "card", className: "mb-6" }), (0, jsx_runtime_1.jsx)(LoadingSkeleton_1.LoadingSkeleton, { type: "list" })] }) }));
    }
    if (error) {
        return ((0, jsx_runtime_1.jsx)("div", { className: `flex-1 bg-white ${className}`, children: (0, jsx_runtime_1.jsx)(ErrorState_1.ErrorState, { message: error, onRetry: onRetry, className: "h-full" }) }));
    }
    if (!selectedTheme) {
        return ((0, jsx_runtime_1.jsx)("div", { className: `flex-1 bg-white ${className}`, children: (0, jsx_runtime_1.jsx)(EmptyState_1.EmptyState, { title: "\u9078\u64C7\u4E00\u500B\u6982\u5FF5", message: "\u5F9E\u5DE6\u5074\u9078\u64C7\u4E00\u500B\u71B1\u9580\u6982\u5FF5\u4F86\u67E5\u770B\u8A73\u7D30\u8CC7\u8A0A", icon: (0, jsx_runtime_1.jsx)("svg", { className: "w-12 h-12 text-gray-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: (0, jsx_runtime_1.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" }) }), className: "h-full" }) }));
    }
    return ((0, jsx_runtime_1.jsx)("div", { className: `flex-1 bg-white overflow-y-auto ${className}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "p-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: selectedTheme.theme }), selectedTheme.description && ((0, jsx_runtime_1.jsx)("p", { className: "text-gray-600", children: selectedTheme.description }))] }), showAdvancedAnalysis && conceptStrength && ((0, jsx_runtime_1.jsx)("div", { className: "mb-6", children: (0, jsx_runtime_1.jsxs)("div", { className: "bg-blue-50 border border-blue-200 rounded-lg p-4", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-3", children: "\u6982\u5FF5\u5F37\u5EA6\u5206\u6790" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold text-blue-600", children: conceptStrength.strengthScore }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-600", children: "\u7D9C\u5408\u8A55\u5206" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1 space-y-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: "\u5E02\u503C\u4F54\u6BD4" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-sm font-medium", children: [conceptStrength.dimensions.marketCapRatio, "%"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: "\u50F9\u683C\u8CA2\u737B" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-sm font-medium", children: [conceptStrength.dimensions.priceContribution, "%"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: "\u8A0E\u8AD6\u71B1\u5EA6" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-sm font-medium", children: [conceptStrength.dimensions.discussionLevel, "%"] })] })] })] })] }) })), showAdvancedAnalysis && sentiment && ((0, jsx_runtime_1.jsx)("div", { className: "mb-6", children: (0, jsx_runtime_1.jsxs)("div", { className: "bg-green-50 border border-green-200 rounded-lg p-4", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-3", children: "\u5E02\u5834\u60C5\u7DD2\u5206\u6790" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold text-green-600", children: Math.round(sentiment.score * 100) }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-600", children: "\u60C5\u7DD2\u6307\u6578" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: "\u65B0\u805E" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-sm font-medium", children: [sentiment.sources.news, "%"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: "\u793E\u7FA4" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-sm font-medium", children: [sentiment.sources.social, "%"] })] })] })] })] }) })), showAdvancedAnalysis && anomalyEvents.length > 0 && ((0, jsx_runtime_1.jsx)("div", { className: "mb-6", children: (0, jsx_runtime_1.jsxs)("div", { className: "bg-red-50 border border-red-200 rounded-lg p-4", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-3", children: "\u7570\u5E38\u8B66\u793A" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: anomalyEvents.map((event, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-2 h-2 bg-red-500 rounded-full" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-sm font-medium text-gray-900", children: event.description }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-600", children: event.timestamp })] })] }, index))) })] }) })), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("h3", { className: "text-lg font-semibold text-gray-900 mb-4", children: ["\u76F8\u95DC\u80A1\u7968 (", (relatedStocks.length > 0 ? relatedStocks : selectedTheme.stocks).length, ")"] }), (0, jsx_runtime_1.jsx)(StockList_1.StockList, { stocks: relatedStocks.length > 0 ? relatedStocks : selectedTheme.stocks, onStockClick: onStockClick })] })] }) }));
};
exports.DetailPanel = DetailPanel;
