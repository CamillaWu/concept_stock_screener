# Scripts è³‡æ–™å¤¾

æœ¬è³‡æ–™å¤¾åŒ…å«æ¦‚å¿µè‚¡ç¯©é¸ç³»çµ±çš„å„ç¨®è…³æœ¬å’Œå·¥å…·ï¼Œå·²é‡æ–°çµ„ç¹”ä»¥æé«˜å¯ç¶­è­·æ€§å’Œæ¸¬è©¦è¦†è“‹ç‡ã€‚

## ğŸ“ è³‡æ–™å¤¾çµæ§‹

```
scripts/
â”œâ”€â”€ tests/                    # æ¸¬è©¦è…³æœ¬
â”‚   â”œâ”€â”€ unit/                # å–®å…ƒæ¸¬è©¦
â”‚   â”œâ”€â”€ integration/         # æ•´åˆæ¸¬è©¦
â”‚   â”œâ”€â”€ e2e/                # ç«¯åˆ°ç«¯æ¸¬è©¦
â”‚   â””â”€â”€ performance/         # æ•ˆèƒ½æ¸¬è©¦
â”œâ”€â”€ deployment/              # éƒ¨ç½²è…³æœ¬
â”‚   â”œâ”€â”€ cloudflare/         # Cloudflare Workers éƒ¨ç½²
â”‚   â”œâ”€â”€ vercel/             # Vercel éƒ¨ç½²
â”‚   â””â”€â”€ scripts/            # é€šç”¨éƒ¨ç½²è…³æœ¬
â”œâ”€â”€ development/             # é–‹ç™¼å·¥å…·
â”‚   â”œâ”€â”€ environment/        # ç’°å¢ƒé…ç½®
â”‚   â”œâ”€â”€ rag/                # RAG ç›¸é—œå·¥å…·
â”‚   â””â”€â”€ utilities/          # é€šç”¨å·¥å…·
â”œâ”€â”€ maintenance/             # ç¶­è­·è…³æœ¬
â”‚   â”œâ”€â”€ cleanup/            # æ¸…ç†è…³æœ¬
â”‚   â””â”€â”€ monitoring/         # ç›£æ§è…³æœ¬
â””â”€â”€ legacy/                  # èˆŠç‰ˆè…³æœ¬ï¼ˆå·²æ­¸æª”ï¼‰
```

## ğŸ§ª æ¸¬è©¦ç­–ç•¥

### 1. å–®å…ƒæ¸¬è©¦ (Unit Tests)
- **ç›®æ¨™**: æ¸¬è©¦å€‹åˆ¥å‡½æ•¸å’Œçµ„ä»¶çš„åŠŸèƒ½
- **è¦†è“‹ç‡ç›®æ¨™**: 80%+
- **å·¥å…·**: Jest + TypeScript
- **åŸ·è¡Œ**: `pnpm test:unit`

### 2. æ•´åˆæ¸¬è©¦ (Integration Tests)
- **ç›®æ¨™**: æ¸¬è©¦ API ç«¯é»å’Œæœå‹™æ•´åˆ
- **è¦†è“‹ç‡ç›®æ¨™**: 70%+
- **å·¥å…·**: Jest + Supertest
- **åŸ·è¡Œ**: `pnpm test:integration`

### 3. ç«¯åˆ°ç«¯æ¸¬è©¦ (E2E Tests)
- **ç›®æ¨™**: æ¸¬è©¦å®Œæ•´ç”¨æˆ¶æµç¨‹
- **è¦†è“‹ç‡ç›®æ¨™**: 60%+
- **å·¥å…·**: Playwright
- **åŸ·è¡Œ**: `pnpm test:e2e`

### 4. æ•ˆèƒ½æ¸¬è©¦ (Performance Tests)
- **ç›®æ¨™**: æ¸¬è©¦ç³»çµ±æ•ˆèƒ½å’Œè² è¼‰èƒ½åŠ›
- **å·¥å…·**: è‡ªå®šç¾©æ•ˆèƒ½æ¸¬è©¦è…³æœ¬
- **åŸ·è¡Œ**: `pnpm test:performance`

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´
```bash
pnpm install
```

### åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
```bash
pnpm test
```

### åŸ·è¡Œç‰¹å®šæ¸¬è©¦é¡å‹
```bash
pnpm test:unit          # å–®å…ƒæ¸¬è©¦
pnpm test:integration   # æ•´åˆæ¸¬è©¦
pnpm test:e2e          # ç«¯åˆ°ç«¯æ¸¬è©¦
pnpm test:performance  # æ•ˆèƒ½æ¸¬è©¦
```

### ç”Ÿæˆæ¸¬è©¦å ±å‘Š
```bash
pnpm test:coverage      # ç”Ÿæˆè¦†è“‹ç‡å ±å‘Š
pnpm test:report        # ç”Ÿæˆè©³ç´°æ¸¬è©¦å ±å‘Š
```

## ğŸ macOS ç‰¹å®šåŠŸèƒ½

### ç’°å¢ƒè¨­ç½®
```bash
# è¨­ç½® macOS é–‹ç™¼ç’°å¢ƒ
chmod +x scripts/setup-macos.sh
./scripts/setup-macos.sh
```

### æ¸¬è©¦åŸ·è¡Œ
```bash
# ä½¿ç”¨ macOS å„ªåŒ–è…³æœ¬
chmod +x scripts/test-runner-mac.sh
./scripts/test-runner-mac.sh all

# æŸ¥çœ‹å¹«åŠ©
./scripts/test-runner-mac.sh help

# é¡¯ç¤º macOS ç³»çµ±è³‡è¨Š
./scripts/test-runner-mac.sh macos
```

### macOS ç‰¹è‰²åŠŸèƒ½
- ğŸš€ è‡ªå‹•å®‰è£ Xcode Command Line Tools
- ğŸº Homebrew ä¾è³´ç®¡ç†
- ğŸ“± è‡ªå‹•æ‰“é–‹ HTML è¦†è“‹ç‡å ±å‘Š
- ğŸ’» ç³»çµ±è³‡æºæª¢æŸ¥ (è¨˜æ†¶é«”ã€ç£ç¢Ÿç©ºé–“)
- ğŸ”§ Apple Silicon å’Œ Intel æ¶æ§‹æ”¯æ´

## ğŸªŸ Windows ç‰¹å®šåŠŸèƒ½

### ç’°å¢ƒè¨­ç½®
```powershell
# è¨­ç½® Windows é–‹ç™¼ç’°å¢ƒ
.\scripts\quick-start-windows.ps1 setup
```

### æ¸¬è©¦åŸ·è¡Œ
```powershell
# ä½¿ç”¨ Windows å„ªåŒ–è…³æœ¬
.\scripts\test-runner.ps1 all

# æŸ¥çœ‹å¹«åŠ©
.\scripts\test-runner.ps1 help

# é¡¯ç¤º Windows ç³»çµ±è³‡è¨Š
.\scripts\test-runner.ps1 system-info
```

### Windows ç‰¹è‰²åŠŸèƒ½
- ğŸ”§ PowerShell åŸ·è¡Œç­–ç•¥æª¢æŸ¥å’Œå»ºè­°
- ğŸ’» Windows ç³»çµ±è³‡è¨Šé¡¯ç¤º (è¨˜æ†¶é«”ã€ç£ç¢Ÿã€è™•ç†å™¨)
- ğŸ“ è‡ªå‹•è·¯å¾‘è™•ç†å’Œåˆ†éš”ç¬¦è½‰æ›
- ğŸ¨ å½©è‰²è¼¸å‡ºå’Œè¡¨æƒ…ç¬¦è™Ÿæ”¯æ´
- ğŸš€ ä¸€éµå¿«é€Ÿå•Ÿå‹•è…³æœ¬

### ğŸš€ ä¸€éµå¿«é€Ÿå•Ÿå‹•

**macOS**
```bash
# ä¸€éµå®Œæˆç’°å¢ƒè¨­ç½®å’Œæ¸¬è©¦åŸ·è¡Œ
chmod +x scripts/quick-start-macos.sh
./scripts/quick-start-macos.sh
```

**Windows**
```powershell
# ä¸€éµå®Œæˆç’°å¢ƒè¨­ç½®å’Œæ¸¬è©¦åŸ·è¡Œ
.\scripts\quick-start-windows.ps1 all
```

é€™äº›è…³æœ¬æœƒè‡ªå‹•ï¼š
1. æª¢æŸ¥å’Œè¨­ç½®è…³æœ¬æ¬Šé™
2. è¨­ç½®é–‹ç™¼ç’°å¢ƒ (macOS/Windows)
3. å®‰è£æ¸¬è©¦ä¾è³´
4. é‹è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
5. ç”Ÿæˆæ¸¬è©¦å ±å‘Š

## ğŸ“Š æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™

| æ¸¬è©¦é¡å‹ | ç•¶å‰è¦†è“‹ç‡ | ç›®æ¨™è¦†è“‹ç‡ | ç‹€æ…‹ |
|---------|-----------|-----------|------|
| å–®å…ƒæ¸¬è©¦ | 0% | 80% | ğŸš§ é€²è¡Œä¸­ |
| æ•´åˆæ¸¬è©¦ | 0% | 70% | ğŸš§ é€²è¡Œä¸­ |
| ç«¯åˆ°ç«¯æ¸¬è©¦ | 0% | 60% | ğŸš§ é€²è¡Œä¸­ |
| æ•ˆèƒ½æ¸¬è©¦ | 100% | 100% | âœ… å®Œæˆ |

## ğŸ”§ è…³æœ¬åˆ†é¡

### æ¸¬è©¦è…³æœ¬ (tests/)
- `unit/` - å–®å…ƒæ¸¬è©¦
- `integration/` - æ•´åˆæ¸¬è©¦
- `e2e/` - ç«¯åˆ°ç«¯æ¸¬è©¦
- `performance/` - æ•ˆèƒ½æ¸¬è©¦

### éƒ¨ç½²è…³æœ¬ (deployment/)
- `cloudflare/` - Cloudflare Workers éƒ¨ç½²
- `vercel/` - Vercel éƒ¨ç½²
- `scripts/` - é€šç”¨éƒ¨ç½²è…³æœ¬

### é–‹ç™¼å·¥å…· (development/)
- `environment/` - ç’°å¢ƒé…ç½®ç®¡ç†
- `rag/` - RAG ç³»çµ±å·¥å…·
- `utilities/` - é€šç”¨é–‹ç™¼å·¥å…·

### ç¶­è­·è…³æœ¬ (maintenance/)
- `cleanup/` - ç³»çµ±æ¸…ç†
- `monitoring/` - ç³»çµ±ç›£æ§

## ğŸ“ è…³æœ¬å‘½åè¦ç¯„

- **æ¸¬è©¦è…³æœ¬**: `test-*.js`
- **éƒ¨ç½²è…³æœ¬**: `deploy-*.sh` æˆ– `deploy-*.ps1`
- **å·¥å…·è…³æœ¬**: `*-tool.js` æˆ– `*-manager.js`
- **é…ç½®è…³æœ¬**: `config-*.js` æˆ– `setup-*.sh`

## âš ï¸ æ³¨æ„äº‹é …

1. **ç’°å¢ƒè®Šæ•¸**: åŸ·è¡Œè…³æœ¬å‰è«‹ç¢ºä¿ç’°å¢ƒè®Šæ•¸å·²æ­£ç¢ºè¨­å®š
2. **æ¬Šé™**: æŸäº›è…³æœ¬å¯èƒ½éœ€è¦ç®¡ç†å“¡æ¬Šé™
3. **ä¾è³´**: ç¢ºä¿æ‰€æœ‰å¿…è¦çš„ä¾è³´å·²å®‰è£
4. **å‚™ä»½**: åŸ·è¡Œç ´å£æ€§æ“ä½œå‰è«‹å‚™ä»½é‡è¦è³‡æ–™

## ğŸ”„ é·ç§»æŒ‡å—

èˆŠç‰ˆè…³æœ¬å·²ç§»è‡³ `legacy/` è³‡æ–™å¤¾ï¼Œå¦‚éœ€ä½¿ç”¨è«‹åƒè€ƒå°æ‡‰çš„é·ç§»èªªæ˜ã€‚

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´1æœˆ15æ—¥
**ç‰ˆæœ¬**: v2.0.0
